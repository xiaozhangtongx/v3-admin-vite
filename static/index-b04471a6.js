import{e,r as a,b1 as s,b2 as l,a1 as t,j as i,B as o,K as d,m as r,k as u,$ as n,ai as v,o as c,a8 as p,C as m,s as f}from"./index-f84eb1d7.js";import{E as x}from"./el-button-f55acee8.js";import"./index-6d810c7d.js";import"./use-form-item-d198a812.js";import"./index-01b4041d.js";const y={class:"flex flex-col gap-4 text-center mt-10"},j=["onClick"],I=e({__name:"index",setup(e){const I=a(),{videoInputs:b}=s({requestPermissions:!0,onUpdated(){var e;b.value.find((e=>e.deviceId===I.value))||(I.value=null==(e=b.value[0])?void 0:e.deviceId)}}),k=a(),{stream:C,enabled:_}=l({videoDeviceId:I});return t((()=>{k.value&&(k.value.srcObject=C.value)})),(e,a)=>{const s=x;return c(),i("div",y,[o("div",null,[d(s,{type:"primary",onClick:a[0]||(a[0]=e=>_.value=!u(_))},{default:r((()=>[p(m(u(_)?"Stop":"Start"),1)])),_:1})]),o("div",null,[(c(!0),i(n,null,v(u(b),(e=>(c(),i("div",{key:e.deviceId,class:f(["px-2 py-1 cursor-pointer",{"text-primary":I.value===e.deviceId}]),onClick:a=>I.value=e.deviceId},m(e.label),11,j)))),128))]),o("div",null,[o("video",{ref_key:"video",ref:k,muted:"",autoplay:"",controls:"",class:"h-100 w-auto"},null,512)])])}}});export{I as default};
