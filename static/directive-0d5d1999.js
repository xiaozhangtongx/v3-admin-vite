import{S as e}from"./SwitchRoles-9fae62ff.js";import{ap as i,d as s,j as a,r as n,ac as o,o as l,b as r,e as d,z as t,V as m,A as c,w as p,f as u,h as f,B as v,_}from"./index-1b14cce8.js";const y=e=>{if(e&&Array.isArray(e)&&e.length>0){const s=i().roles,a=e;return s.some((e=>a.includes(e)))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},g={class:"app-container"},k={class:"permission-alert"},b={class:"permission-alert"},h={class:"permission-alert"},z=_(s({__name:"directive",setup(i){const s=a(1),_=()=>{s.value++};return(i,a)=>{const z=n("el-tag"),P=n("el-tab-pane"),j=n("el-tabs"),A=o("permission");return l(),r("div",g,[d(e,{onChange:_}),(l(),r("div",{key:s.value,class:"margin-top"},[t("div",null,[m((l(),r("span",k,[c(" 只有 "),d(z,null,{default:p((()=>[c("admin")])),_:1}),c("可以看见这个 ")])),[[A,["admin"]]]),m((l(),u(z,{class:"permission-code",type:"info",size:"large"},{default:p((()=>[c(" v-permission=\"['admin']\" ")])),_:1})),[[A,["admin"]]])]),t("div",null,[m((l(),r("span",b,[c(" 只有 "),d(z,null,{default:p((()=>[c("editor")])),_:1}),c("可以看见这个 ")])),[[A,["editor"]]]),m((l(),u(z,{class:"permission-code",type:"info",size:"large"},{default:p((()=>[c(" v-permission=\"['editor']\" ")])),_:1})),[[A,["editor"]]])]),t("div",null,[m((l(),r("span",h,[c(" 两者 "),d(z,null,{default:p((()=>[c("admin")])),_:1}),c("和 "),d(z,null,{default:p((()=>[c("editor")])),_:1}),c("都可以看见这个 ")])),[[A,["admin","editor"]]]),m((l(),u(z,{class:"permission-code",type:"info",size:"large"},{default:p((()=>[c(" v-permission=\"['admin', 'editor']\" ")])),_:1})),[[A,["admin","editor"]]])])])),(l(),r("div",{key:`checkPermission${s.value}`,class:"margin-top"},[d(z,{type:"info",size:"large"},{default:p((()=>[c(" 在某些情况下，不适合使用 v-permission。例如: Element Plus 的 el-tab-pane 或 el-table-column 以及其它动态渲染 Dom 的场景。你只能通过手动设置 v-if 来实现。 ")])),_:1}),d(j,{type:"border-card",class:"margin-top"},{default:p((()=>[f(y)(["admin"])?(l(),u(P,{key:0,label:"admin"},{default:p((()=>[c(" admin 可以看见这个 "),d(z,{class:"permission-code",type:"info"},{default:p((()=>[c(" v-if=\"checkPermission(['admin'])\" ")])),_:1})])),_:1})):v("",!0),f(y)(["editor"])?(l(),u(P,{key:1,label:"editor"},{default:p((()=>[c(" editor 可以看见这个 "),d(z,{class:"permission-code",type:"info"},{default:p((()=>[c(" v-if=\"checkPermission(['editor'])\" ")])),_:1})])),_:1})):v("",!0),f(y)(["admin","editor"])?(l(),u(P,{key:2,label:"admin 和 editor"},{default:p((()=>[c(" 两者 admin 和 editor 都可以看见这个 "),d(z,{class:"permission-code",type:"info"},{default:p((()=>[c(" v-if=\"checkPermission(['admin', 'editor'])\" ")])),_:1})])),_:1})):v("",!0)])),_:1})]))])}}}),[["__scopeId","data-v-dcce86f8"]]);export{z as default};
