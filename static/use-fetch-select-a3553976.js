import{aN as e,y as t,f as l,bV as a,bW as o,d as n,b as s,a4 as i,e as r,u,r as c,X as d,k as p,w as m,Y as f,Z as v,M as h,i as g,x as b,bw as y,p as S,g as x,a6 as w,bt as V,_ as I,o as O,j as C,C as M,s as z,n as T,B as k,bX as E,q as B,z as N,bk as R,K as L,F as K,bd as W,a5 as F,Q as $,aL as D,bJ as j,I as H,bu as A,bY as q,a2 as _,E as P,bZ as U,A as G,v as Q,J,bv as Y,L as X,m as Z,N as ee,$ as te,ai as le,l as ae,ab as oe,O as ne,aJ as se,aK as ie,bn as re}from"./index-f84eb1d7.js";import"./el-input-78bb646a.js";import{E as ue}from"./el-tag-9d931c2f.js";import{B as ce,a as de,e as pe,E as me}from"./el-scrollbar-025550c0.js";import{i as fe,C as ve,a as he,E as ge}from"./el-select-2baee6cd.js";import{i as be}from"./validator-045a886a.js";import{i as ye,a as Se}from"./index-e08c7343.js";import{u as xe,a as we}from"./use-form-item-d198a812.js";import{e as Ve}from"./strings-26cd39f6.js";import{d as Ie,U as Oe,C as Ce}from"./event-538c9b76.js";import{i as Me}from"./focus-trap-b355df7c.js";import{d as ze}from"./debounce-f581640b.js";import"./index-01b4041d.js";import"./index-6d810c7d.js";import"./scroll-89521e5b.js";import"./index-e6b313ef.js";const Te=t=>e?window.requestAnimationFrame(t):setTimeout(t,16),ke=t=>e?window.cancelAnimationFrame(t):clearTimeout(t);var Ee=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Be(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(a=e[l],o=t[l],!(a===o||Ee(a)&&Ee(o)))return!1;var a,o;return!0}const Ne=()=>{const e=t().proxy.$props;return l((()=>{const t=(e,t,l)=>({});return e.perfMode?a(t):function(e,t){void 0===t&&(t=Be);var l=null;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(l&&l.lastThis===this&&t(a,l.lastArgs))return l.lastResult;var n=e.apply(this,a);return l={lastResult:n,lastArgs:a,lastThis:this},n}return a.clear=function(){l=null},a}(t)}))},Re="itemRendered",Le="scroll",Ke="forward",We="backward",Fe="auto",$e="smart",De="start",je="center",He="horizontal",Ae="vertical",qe="rtl",_e="negative",Pe="positive-ascending",Ue="positive-descending",Ge={[He]:"left",[Ae]:"top"},Qe={[He]:"deltaX",[Ae]:"deltaY"},Je=o({type:n([Number,Function]),required:!0}),Ye=o({type:Number}),Xe=o({type:Number,default:2}),Ze=o({type:String,values:["ltr","rtl"],default:"ltr"}),et=o({type:Number,default:0}),tt=o({type:Number,required:!0}),lt=o({type:String,values:["horizontal","vertical"],default:Ae}),at=s({className:{type:String,default:""},containerElement:{type:n([String,Object]),default:"div"},data:{type:n(Array),default:()=>i([])},direction:Ze,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:n([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),ot=s({cache:Xe,estimatedItemSize:Ye,layout:lt,initScrollOffset:et,total:tt,itemSize:Je,...at}),nt={type:Number,default:6},st={type:Number,default:0},it={type:Number,default:2};s({columnCache:Xe,columnWidth:Je,estimatedColumnWidth:Ye,estimatedRowHeight:Ye,initScrollLeft:et,initScrollTop:et,itemKey:{type:n(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:Xe,rowHeight:Je,totalColumn:tt,totalRow:tt,hScrollbarSize:nt,vScrollbarSize:nt,scrollbarStartGap:st,scrollbarEndGap:it,role:String,...at});const rt=s({alwaysOn:Boolean,class:String,layout:lt,total:tt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:nt,startGap:st,endGap:it,visible:Boolean}),ut=(e,t)=>e<t?Ke:We,ct=e=>"ltr"===e||e===qe||e===He;let dt=null;function pt(e=!1){if(null===dt||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),a=l.style;return a.width="100px",a.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?dt=Ue:(e.scrollLeft=1,dt=0===e.scrollLeft?_e:Pe),document.body.removeChild(e),dt}return dt}const mt=r({name:"ElVirtualScrollBar",props:rt,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const a=l((()=>e.startGap+e.endGap)),o=u("virtual-scrollbar"),n=u("scrollbar"),s=c(),i=c();let r=null,g=null;const b=d({isDragging:!1,traveled:0}),y=l((()=>ce[e.layout])),S=l((()=>e.clientSize-p(a))),x=l((()=>({position:"absolute",width:`${He===e.layout?S.value:e.scrollbarSize}px`,height:`${He===e.layout?e.scrollbarSize:S.value}px`,[Ge[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),w=l((()=>{const t=e.ratio,l=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*l/100;const a=l/3;return Math.floor(Math.min(Math.max(t*l,20),a))})),V=l((()=>{if(!Number.isFinite(w.value))return{display:"none"};const t=`${w.value}px`,l=function({move:e,size:t,bar:l},a){const o={},n=`translate${l.axis}(${e}px)`;return o[l.size]=t,o.transform=n,o.msTransform=n,o.webkitTransform=n,"horizontal"===a?o.height="100%":o.width="100%",o}({bar:y.value,size:t,move:b.traveled},e.layout);return l})),I=l((()=>Math.floor(e.clientSize-w.value-p(a)))),O=()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",M),document.onselectstart=g,g=null;const e=p(i);e&&(e.removeEventListener("touchmove",z),e.removeEventListener("touchend",M))},C=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(b.isDragging=!0,b[y.value.axis]=e.currentTarget[y.value.offset]-(e[y.value.client]-e.currentTarget.getBoundingClientRect()[y.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",z),window.addEventListener("mouseup",M);const e=p(i);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",z),e.addEventListener("touchend",M))})())},M=()=>{b.isDragging=!1,b[y.value.axis]=0,t("stop-move"),O()},z=l=>{const{isDragging:a}=b;if(!a)return;if(!i.value||!s.value)return;const o=b[y.value.axis];if(!o)return;ke(r);const n=-1*(s.value.getBoundingClientRect()[y.value.direction]-l[y.value.client])-(i.value[y.value.offset]-o);r=Te((()=>{b.traveled=Math.max(e.startGap,Math.min(n,I.value)),t("scroll",n,I.value)}))},T=e=>{const l=Math.abs(e.target.getBoundingClientRect()[y.value.direction]-e[y.value.client])-i.value[y.value.offset]/2;b.traveled=Math.max(0,Math.min(l,I.value)),t("scroll",l,I.value)};return m((()=>e.scrollFrom),(e=>{b.isDragging||(b.traveled=Math.ceil(e*I.value))})),f((()=>{O()})),()=>v("div",{role:"presentation",ref:s,class:[o.b(),e.class,(e.alwaysOn||b.isDragging)&&"always-on"],style:x.value,onMousedown:h(T,["stop","prevent"]),onTouchstartPrevent:C},v("div",{ref:i,class:n.e("thumb"),style:V.value,onMousedown:C},[]))}}),ft=({name:a,getOffset:o,getItemSize:n,getItemOffset:s,getEstimatedTotalSize:i,getStartIndexForOffset:d,getStopIndexForStartIndex:m,initCache:f,clearCache:h,validateProps:I})=>r({name:null!=a?a:"ElVirtualList",props:ot,emits:[Re,Le],setup(a,{emit:r,expose:v}){I(a);const S=t(),x=u("vl"),O=c(f(a,S)),C=Ne(),M=c(),z=c(),T=c(),k=c({isScrolling:!1,scrollDir:"forward",scrollOffset:g(a.initScrollOffset)?a.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:a.scrollbarAlwaysOn}),E=l((()=>{const{total:e,cache:t}=a,{isScrolling:l,scrollDir:o,scrollOffset:n}=p(k);if(0===e)return[0,0,0,0];const s=d(a,n,p(O)),i=m(a,s,n,p(O)),r=l&&o!==We?1:Math.max(1,t),u=l&&o!==Ke?1:Math.max(1,t);return[Math.max(0,s-r),Math.max(0,Math.min(e-1,i+u)),s,i]})),B=l((()=>i(a,p(O)))),N=l((()=>ct(a.layout))),R=l((()=>[{position:"relative",["overflow-"+(N.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:a.direction,height:g(a.height)?`${a.height}px`:a.height,width:g(a.width)?`${a.width}px`:a.width},a.style])),L=l((()=>{const e=p(B),t=p(N);return{height:t?"100%":`${e}px`,pointerEvents:p(k).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),K=l((()=>N.value?a.width:a.height)),{onWheel:W}=(({atEndEdge:e,atStartEdge:t,layout:l},a)=>{let o,n=0;const s=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:s,onWheel:e=>{ke(o);const t=e[Qe[l.value]];s(n)&&s(n+t)||(n+=t,ye()||e.preventDefault(),o=Te((()=>{a(n),n=0})))}}})({atStartEdge:l((()=>k.value.scrollOffset<=0)),atEndEdge:l((()=>k.value.scrollOffset>=B.value)),layout:l((()=>a.layout))},(e=>{var t,l;null==(l=(t=T.value).onMouseUp)||l.call(t),$(Math.min(k.value.scrollOffset+e,B.value-K.value))})),F=()=>{const{total:e}=a;if(e>0){const[e,t,l,a]=p(E);r(Re,e,t,l,a)}const{scrollDir:t,scrollOffset:l,updateRequested:o}=p(k);r(Le,t,l,o)},$=e=>{(e=Math.max(e,0))!==p(k).scrollOffset&&(k.value={...p(k),scrollOffset:e,scrollDir:ut(p(k).scrollOffset,e),updateRequested:!0},w(j))},D=(e,t=Fe)=>{const{scrollOffset:l}=p(k);e=Math.max(0,Math.min(e,a.total-1)),$(o(a,e,t,l,p(O)))},j=()=>{k.value.isScrolling=!1,w((()=>{C.value(-1,null,null)}))},H=()=>{const e=M.value;e&&(e.scrollTop=0)};b((()=>{if(!e)return;const{initScrollOffset:t}=a,l=p(M);g(t)&&l&&(p(N)?l.scrollLeft=t:l.scrollTop=t),F()})),y((()=>{const{direction:e,layout:t}=a,{scrollOffset:l,updateRequested:o}=p(k),n=p(M);if(o&&n)if(t===He)if(e===qe)switch(pt()){case _e:n.scrollLeft=-l;break;case Pe:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=l;else n.scrollTop=l}));const A={ns:x,clientSize:K,estimatedTotalSize:B,windowStyle:R,windowRef:M,innerRef:z,innerStyle:L,itemsToRender:E,scrollbarRef:T,states:k,getItemStyle:e=>{const{direction:t,itemSize:l,layout:o}=a,i=C.value(h&&l,h&&o,h&&t);let r;if(V(i,String(e)))r=i[e];else{const l=s(a,e,p(O)),o=n(a,e,p(O)),u=p(N),c=t===qe,d=u?l:0;i[e]=r={position:"absolute",left:c?void 0:`${d}px`,right:c?`${d}px`:void 0,top:u?0:`${l}px`,height:u?"100%":`${o}px`,width:u?`${o}px`:"100%"}}return r},onScroll:e=>{p(N)?(e=>{const{clientWidth:t,scrollLeft:l,scrollWidth:o}=e.currentTarget,n=p(k);if(n.scrollOffset===l)return;const{direction:s}=a;let i=l;if(s===qe)switch(pt()){case _e:i=-l;break;case Ue:i=o-t-l}i=Math.max(0,Math.min(i,o-t)),k.value={...n,isScrolling:!0,scrollDir:ut(n.scrollOffset,i),scrollOffset:i,updateRequested:!1},w(j)})(e):(e=>{const{clientHeight:t,scrollHeight:l,scrollTop:a}=e.currentTarget,o=p(k);if(o.scrollOffset===a)return;const n=Math.max(0,Math.min(a,l-t));k.value={...o,isScrolling:!0,scrollDir:ut(o.scrollOffset,n),scrollOffset:n,updateRequested:!1},w(j)})(e),F()},onScrollbarScroll:(e,t)=>{const l=(B.value-K.value)/t*e;$(Math.min(B.value-K.value,l))},onWheel:W,scrollTo:$,scrollToItem:D,resetScrollTop:H};return v({windowRef:M,innerRef:z,getItemStyleCache:C,scrollTo:$,scrollToItem:D,resetScrollTop:H,states:k}),A},render(e){var t;const{$slots:l,className:a,clientSize:o,containerElement:n,data:s,getItemStyle:i,innerElement:r,itemsToRender:u,innerStyle:c,layout:d,total:p,onScroll:m,onScrollbarScroll:f,onWheel:h,states:g,useIsScrolling:b,windowStyle:y,ns:w}=e,[V,I]=u,O=S(n),C=S(r),M=[];if(p>0)for(let v=V;v<=I;v++)M.push(null==(t=l.default)?void 0:t.call(l,{data:s,key:v,index:v,isScrolling:b?g.isScrolling:void 0,style:i(v)}));const z=[v(C,{style:c,ref:"innerRef"},x(C)?M:{default:()=>M})],T=v(mt,{ref:"scrollbarRef",clientSize:o,layout:d,onScroll:f,ratio:100*o/this.estimatedTotalSize,scrollFrom:g.scrollOffset/(this.estimatedTotalSize-o),total:p}),k=v(O,{class:[w.e("window"),a],style:y,onScroll:m,onWheel:h,ref:"windowRef",key:0},x(O)?[z]:{default:()=>[z]});return v("div",{key:0,class:[w.e("wrapper"),g.scrollbarAlwaysOn?"always-on":""]},[k,T])}}),vt=ft({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:a,width:o},n,s,i)=>{const r=ct(a)?o:e,u=Math.max(0,t*l-r),c=Math.min(u,n*l),d=Math.max(0,(n+1)*l-r);switch(s===$e&&(s=i>=d-r&&i<=c+r?Fe:je),s){case De:return c;case"end":return d;case je:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(r/2)?0:e>u+Math.floor(r/2)?u:e}default:return i>=d&&i<=c?i:i<d?d:c}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:a,width:o},n,s)=>{const i=n*l,r=ct(a)?o:e,u=Math.ceil((r+s-i)/l);return Math.max(0,Math.min(t-1,n+u-1))},initCache(){},clearCache:!0,validateProps(){}}),ht=(e,t,l)=>{const{itemSize:a}=e,{items:o,lastVisitedIndex:n}=l;if(t>n){let e=0;if(n>=0){const t=o[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);o[l]={offset:e,size:t},e+=t}l.lastVisitedIndex=t}return o[t]},gt=(e,t,l,a,o)=>{for(;l<=a;){const n=l+Math.floor((a-l)/2),s=ht(e,n,t).offset;if(s===o)return n;s<o?l=n+1:s>o&&(a=n-1)}return Math.max(0,l-1)},bt=(e,t,l,a)=>{const{total:o}=e;let n=1;for(;l<o&&ht(e,l,t).offset<a;)l+=n,n*=2;return gt(e,t,Math.floor(l/2),Math.min(l,o-1),a)},yt=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:a})=>{let o=0;if(a>=e&&(a=e-1),a>=0){const e=t[a];o=e.offset+e.size}return o+(e-a-1)*l},St=ft({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>ht(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:yt,getOffset:(e,t,l,a,o)=>{const{height:n,layout:s,width:i}=e,r=ct(s)?i:n,u=ht(e,t,o),c=yt(e,o),d=Math.max(0,Math.min(c-r,u.offset)),p=Math.max(0,u.offset-r+u.size);switch(l===$e&&(l=a>=p-r&&a<=d+r?Fe:je),l){case De:return d;case"end":return p;case je:return Math.round(p+(d-p)/2);default:return a>=p&&a<=d?a:a<p?p:d}},getStartIndexForOffset:(e,t,l)=>((e,t,l)=>{const{items:a,lastVisitedIndex:o}=t;return(o>0?a[o].offset:0)>=l?gt(e,t,0,o,l):bt(e,t,Math.max(0,o),l)})(e,l,t),getStopIndexForStartIndex:(e,t,l,a)=>{const{height:o,total:n,layout:s,width:i}=e,r=ct(s)?i:o,u=ht(e,t,a),c=l+r;let d=u.offset+u.size,p=t;for(;p<n-1&&d<c;)p++,d+=ht(e,p,a).size;return p},initCache({estimatedItemSize:e=50},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,a=!0)=>{var o,n;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,e-1),null==(o=t.exposed)||o.getItemStyleCache(-1),a&&(null==(n=t.proxy)||n.$forceUpdate())}};return l},clearCache:!1,validateProps:({itemSize:e})=>{}});var xt=I(r({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:u("select")})}),[["render",function(e,t,l,a,o,n){return e.item.isTitle?(O(),C("div",{key:0,class:z(e.ns.be("group","title")),style:T([e.style,{lineHeight:`${e.height}px`}])},M(e.item.label),7)):(O(),C("div",{key:1,class:z(e.ns.be("group","split")),style:T(e.style)},[k("span",{class:z(e.ns.be("group","split-dash")),style:T({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const wt={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:E},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:de.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:be},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:n(String),values:pe,default:"bottom-start"}},Vt={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},It=r({props:Vt,emits:["select","hover"],setup(e,{emit:t}){const l=u("select"),{hoverItem:a,selectOptionClick:o}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{ns:l,hoverItem:a,selectOptionClick:o}}}),Ot=["aria-selected"];var Ct=I(It,[["render",function(e,t,l,a,o,n){return O(),C("li",{"aria-selected":e.selected,style:T(e.style),class:z([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=h(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[B(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[k("span",null,M(e.item.label),1)]))],46,Ot)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const Mt=Symbol("ElSelectV2Injection");var zt=r({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:a}){const o=N(Mt),n=u("select"),s=c([]),i=c(),r=l((()=>e.data.length));m((()=>r.value),(()=>{var e,t;null==(t=(e=o.popper.value).updatePopper)||t.call(e)}));const d=l((()=>R(o.props.estimatedOptionHeight))),f=l((()=>d.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:e=>s.value[e]})),v=(e,t)=>{const{valueKey:l}=o.props;return o.props.multiple?((e=[],t)=>{const{props:{valueKey:l}}=o;return F(t)?e&&e.some((e=>W(e,l)===W(t,l))):e.includes(t)})(e,W(t,l)):((e,t)=>{if(F(t)){const{valueKey:l}=o.props;return W(e,l)===W(t,l)}return e===t})(e,W(t,l))},h=(e,t)=>{const{disabled:l,multiple:a,multipleLimit:n}=o.props;return l||!t&&!!a&&n>0&&e.length>=n},g=t=>e.hoveringIndex===t;a({listRef:i,isSized:d,isItemDisabled:h,isItemHovering:g,isItemSelected:v,scrollToItem:e=>{const t=i.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=i.value;e&&e.resetScrollTop()}});const b=e=>{const{index:l,data:a,style:n}=e,s=p(d),{itemSize:i,estimatedSize:r}=p(f),{modelValue:u}=o.props,{onSelect:c,onHover:m}=o,b=a[l];if("Group"===b.type)return L(xt,{item:b,style:n,height:s?i:r},null);const y=v(u,b),S=h(u,y),x=g(l);return L(Ct,K(e,{selected:y,disabled:b.disabled||S,created:!!b.created,hovering:x,item:b,onSelect:c,onHover:m}),{default:e=>{var l;return(null==(l=t.default)?void 0:l.call(t,e))||L("span",null,[b.label])}})},{onKeyboardNavigate:y,onKeyboardSelect:S}=o,x=e=>{const{code:t}=e,{tab:l,esc:a,down:n,up:s,enter:i}=$;switch(t!==l&&(e.preventDefault(),e.stopPropagation()),t){case l:case a:o.expanded=!1;break;case n:y("forward");break;case s:y("backward");break;case i:S()}};return()=>{var l;const{data:a,width:s}=e,{height:r,multiple:u,scrollbarAlwaysOn:c}=o.props;if(0===a.length)return L("div",{class:n.b("dropdown"),style:{width:`${s}px`}},[null==(l=t.empty)?void 0:l.call(t)]);const m=p(d)?vt:St;return L("div",{class:[n.b("dropdown"),n.is("multiple",u)]},[L(m,K({ref:i},p(f),{className:n.be("dropdown","list"),scrollbarAlwaysOn:c,data:a,height:r,width:s,total:a.length,onKeydown:x}),{default:e=>L(b,e,null)})])}}});function Tt(e,t){const a=c(0),o=c(null),n=l((()=>e.allowCreate&&e.filterable));return{createNewOption:function(l){if(n.value)if(l&&l.length>0&&!function(l){const a=e=>e.value===l;return e.options&&e.options.some(a)||t.createdOptions.some(a)}(l)){const e={value:l,label:l,created:!0,disabled:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=a.value;else{const e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(l){if(!n.value||!l||!l.created||l.created&&e.reserveKeyword&&t.inputValue===l.label)return;const o=t.createdOptions.findIndex((e=>e.value===l.value));~o&&(t.createdOptions.splice(o,1),a.value--)},selectNewOption:function(t){n.value&&(e.multiple&&t.created?a.value++:o.value=t)},clearAllNewOption:function(){n.value&&(t.createdOptions.length=0,a.value=0)}}}const kt={larget:51,default:42,small:33},Et=(e,t)=>{const{t:a}=H(),o=u("select-v2"),n=u("input"),{form:s,formItem:i}=xe(),r=d({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),p=c(-1),f=c(-1),v=c(null),h=c(null),g=c(null),y=c(null),S=c(null),x=c(null),V=c(null),I=c(!1),O=l((()=>e.disabled||(null==s?void 0:s.disabled))),C=l((()=>{const t=34*L.value.length;return t>e.height?e.height:t})),M=l((()=>!Me(e.modelValue))),z=l((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:M.value;return e.clearable&&!O.value&&r.comboBoxHovering&&t})),T=l((()=>e.remote&&e.filterable?"":A)),k=l((()=>T.value&&o.is("reverse",I.value))),E=l((()=>(null==i?void 0:i.validateState)||"")),B=l((()=>q[E.value])),N=l((()=>e.remote?300:0)),R=l((()=>{const t=L.value;return e.loading?e.loadingText||a("el.select.loading"):(!e.remote||""!==r.inputValue||0!==t.length)&&(e.filterable&&r.inputValue&&t.length>0?e.noMatchText||a("el.select.noMatch"):0===t.length?e.noDataText||a("el.select.noData"):null)})),L=l((()=>{const t=e=>{const t=r.inputValue,l=new RegExp(Ve(t),"i");return!t||l.test(e.label||"")};return e.loading?[]:(e=>{const t=[];return e.forEach((e=>{D(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(r.createdOptions).map((l=>{if(D(l.options)){const e=l.options.filter(t);if(e.length>0)return{...l,options:e}}else if(e.remote||t(l))return l;return null})).filter((e=>null!==e)))})),K=l((()=>L.value.every((e=>e.disabled)))),$=we(),P=l((()=>"small"===$.value?"small":"default")),U=l((()=>{const e=x.value,t=P.value||"default",l=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,a=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return r.selectWidth-a-l-kt[t]})),G=()=>{var e;f.value=(null==(e=S.value)?void 0:e.offsetWidth)||200},Q=l((()=>({width:`${0===r.calculatedWidth?11:Math.ceil(r.calculatedWidth)+11}px`}))),J=l((()=>D(e.modelValue)?0===e.modelValue.length&&!r.displayInputValue:!e.filterable||0===r.displayInputValue.length)),Y=l((()=>{const t=e.placeholder||a("el.select.placeholder");return e.multiple||Me(e.modelValue)?t:r.selectedLabel})),X=l((()=>{var e,t;return null==(t=null==(e=y.value)?void 0:e.popperRef)?void 0:t.contentRef})),Z=l((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0)return L.value.findIndex((l=>l.value===e.modelValue[t-1]))}else if(e.modelValue)return L.value.findIndex((t=>t.value===e.modelValue));return-1})),ee=l({get:()=>I.value&&!1!==R.value,set(e){I.value=e}}),te=l((()=>r.cachedOptions.slice(0,e.maxCollapseTags))),le=l((()=>r.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:ae,removeNewOption:oe,selectNewOption:ne,clearAllNewOption:se}=Tt(e,r),{handleCompositionStart:ie,handleCompositionUpdate:re,handleCompositionEnd:ue}=function(e){const t=c(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const l=e.target.value,a=l[l.length-1]||"";t.value=!Se(a)},handleCompositionEnd:l=>{t.value&&(t.value=!1,j(e)&&e(l))}}}((e=>Ke(e))),ce=()=>{var e,t,l;null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e),null==(l=y.value)||l.updatePopper()},de=()=>{if(!e.automaticDropdown)return O.value?void 0:(r.isComposing&&(r.softFocus=!0),w((()=>{var e,t;I.value=!I.value,null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e)})))},pe=()=>(e.filterable&&r.inputValue!==r.selectedLabel&&(r.query=r.selectedLabel),ve(r.inputValue),w((()=>{ae(r.inputValue)}))),me=ze(pe,N.value),ve=t=>{r.previousQuery!==t&&(r.previousQuery=t,e.filterable&&j(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&j(e.remoteMethod)&&e.remoteMethod(t))},he=l=>{t(Oe,l),(l=>{fe(e.modelValue,l)||t(Ce,l)})(l),r.previousValue=null==l?void 0:l.toString()},ge=t=>F(t)?W(t,e.valueKey):t,be=()=>w((()=>{var e,t;if(!h.value)return;const l=x.value;S.value.height=l.offsetHeight,I.value&&!1!==R.value&&(null==(t=null==(e=y.value)?void 0:e.updatePopper)||t.call(e))})),ye=()=>{var t,l;if(Te(),G(),null==(l=null==(t=y.value)?void 0:t.updatePopper)||l.call(t),e.multiple)return be()},Te=()=>{const e=x.value;e&&(r.selectWidth=e.getBoundingClientRect().width)},ke=(t,l,a=!0)=>{var o,n;if(e.multiple){let a=e.modelValue.slice();const s=((t=[],l)=>{if(!F(l))return t.indexOf(l);const a=e.valueKey;let o=-1;return t.some(((e,t)=>W(e,a)===W(l,a)&&(o=t,!0))),o})(a,ge(t));s>-1?(a=[...a.slice(0,s),...a.slice(s+1)],r.cachedOptions.splice(s,1),oe(t)):(e.multipleLimit<=0||a.length<e.multipleLimit)&&(a=[...a,ge(t)],r.cachedOptions.push(t),ne(t),Re(l)),he(a),t.created&&(r.query="",ve(""),r.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(n=(o=h.value).focus)||n.call(o),Be("")),e.filterable&&(r.calculatedWidth=V.value.getBoundingClientRect().width),be(),Le()}else p.value=l,r.selectedLabel=t.label,he(ge(t)),I.value=!1,r.isComposing=!1,r.isSilentBlur=a,ne(t),t.created||se(),Re(l)},Ee=e=>(r.softFocus=!1,w((()=>{var l,a;null==(a=null==(l=h.value)?void 0:l.blur)||a.call(l),V.value&&(r.calculatedWidth=V.value.getBoundingClientRect().width),r.isSilentBlur?r.isSilentBlur=!1:r.isComposing&&t("blur",e),r.isComposing=!1}))),Be=e=>{r.displayInputValue=e,r.inputValue=e},Ne=(e,t=undefined)=>{const l=L.value;if(!["forward","backward"].includes(e)||O.value||l.length<=0||K.value)return;if(!I.value)return de();void 0===t&&(t=r.hoveringIndex);let a=-1;"forward"===e?(a=t+1,a>=l.length&&(a=0)):"backward"===e&&(a=t-1,(a<0||a>=l.length)&&(a=l.length-1));const o=l[a];if(o.disabled||"Group"===o.type)return Ne(e,a);Re(a),We(a)},Re=e=>{r.hoveringIndex=e},Le=()=>{var e;const t=h.value;t&&(null==(e=t.focus)||e.call(t))},Ke=t=>{const l=t.target.value;if(Be(l),r.displayInputValue.length>0&&!I.value&&(I.value=!0),r.calculatedWidth=V.value.getBoundingClientRect().width,e.multiple&&be(),!e.remote)return pe();me()},We=e=>{g.value.scrollToItem(e)},Fe=()=>{if(r.hoveringIndex=-1,e.multiple)if(e.modelValue.length>0){let t=!1;r.cachedOptions.length=0,r.previousValue=e.modelValue.toString(),e.modelValue.forEach((e=>{const l=L.value.findIndex((t=>ge(t)===e));~l&&(r.cachedOptions.push(L.value[l]),t||Re(l),t=!0)}))}else r.cachedOptions=[],r.previousValue=void 0;else if(M.value){r.previousValue=e.modelValue;const t=L.value,l=t.findIndex((t=>ge(t)===ge(e.modelValue)));~l?(r.selectedLabel=t[l].label,Re(l)):r.selectedLabel=`${e.modelValue}`}else r.selectedLabel="",r.previousValue=void 0;se(),G()};return m(I,(e=>{var l,a;t("visible-change",e),e?null==(a=(l=y.value).update)||a.call(l):(r.displayInputValue="",r.previousQuery=null,ae(""))})),m((()=>e.modelValue),((t,l)=>{var a;t&&t.toString()===r.previousValue||Fe(),!fe(t,l)&&e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>Ie())))}),{deep:!0}),m((()=>e.options),(()=>{const e=h.value;(!e||e&&document.activeElement!==e)&&Fe()}),{deep:!0}),m(L,(()=>w(g.value.resetScrollTop))),b((()=>{Fe()})),_(S,ye),{collapseTagSize:P,currentPlaceholder:Y,expanded:I,emptyText:R,popupHeight:C,debounce:N,filteredOptions:L,iconComponent:T,iconReverse:k,inputWrapperStyle:Q,popperSize:f,dropdownMenuVisible:ee,hasModelValue:M,shouldShowPlaceholder:J,selectDisabled:O,selectSize:$,showClearBtn:z,states:r,tagMaxWidth:U,nsSelectV2:o,nsInput:n,calculatorRef:V,controlRef:v,inputRef:h,menuRef:g,popper:y,selectRef:S,selectionRef:x,popperRef:X,validateState:E,validateIcon:B,showTagList:te,collapseTagList:le,debouncedOnInputChange:me,deleteTag:(l,a)=>{const{valueKey:o}=e,n=e.modelValue.indexOf(W(a,o));if(n>-1&&!O.value){const l=[...e.modelValue.slice(0,n),...e.modelValue.slice(n+1)];return r.cachedOptions.splice(n,1),he(l),t("remove-tag",W(a,o)),r.softFocus=!0,oe(a),w(ce)}l.stopPropagation()},getLabel:e=>F(e)?e.label:e,getValueKey:ge,handleBlur:Ee,handleClear:()=>{let l;return l=D(e.modelValue)?[]:void 0,r.softFocus=!0,e.multiple?r.cachedOptions=[]:r.selectedLabel="",I.value=!1,he(l),t("clear"),se(),w(ce)},handleClickOutside:()=>(I.value=!1,Ee()),handleDel:t=>{if(0===r.displayInputValue.length){t.preventDefault();const l=e.modelValue.slice();l.pop(),oe(r.cachedOptions.pop()),he(l)}},handleEsc:()=>{r.displayInputValue.length>0?Be(""):I.value=!1},handleFocus:e=>{const l=r.isComposing;r.isComposing=!0,r.softFocus?r.softFocus=!1:l||t("focus",e)},handleMenuEnter:()=>(r.inputValue=r.displayInputValue,w((()=>{~Z.value&&(Re(Z.value),We(r.hoveringIndex))}))),handleResize:ye,toggleMenu:de,scrollTo:We,onInput:Ke,onKeyboardNavigate:Ne,onKeyboardSelect:()=>{if(!I.value)return de();~r.hoveringIndex&&L.value[r.hoveringIndex]&&ke(L.value[r.hoveringIndex],r.hoveringIndex,!1)},onSelect:ke,onHover:Re,onUpdateInputValue:Be,handleCompositionStart:ie,handleCompositionEnd:ue,handleCompositionUpdate:re}},Bt=r({name:"ElSelectV2",components:{ElSelectMenu:zt,ElTag:ue,ElTooltip:me,ElIcon:P},directives:{ClickOutside:ve,ModelText:U},props:wt,emits:[Oe,Ce,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const a=l((()=>{const{modelValue:t,multiple:l}=e,a=l?[]:void 0;return D(t)?l?t:a:l?a:t})),o=Et(d({...G(e),modelValue:a}),t);return Q(Mt,{props:d({...G(e),height:o.popupHeight,modelValue:a}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:a}}}),Nt={key:0},Rt=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Lt=["textContent"],Kt=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Wt=["textContent"];var Ft=I(Bt,[["render",function(e,t,l,a,o,n){const s=J("el-tag"),i=J("el-tooltip"),r=J("el-icon"),u=J("el-select-menu"),c=Y("model-text"),d=Y("click-outside");return X((O(),C("div",{ref:"selectRef",class:z([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=h(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[L(i,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:Z((()=>[k("div",{ref:"selectionRef",class:z([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(O(),C("div",Nt,[B(e.$slots,"prefix")])):ee("v-if",!0),e.multiple?(O(),C("div",{key:1,class:z(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(O(),C(te,{key:0},[(O(!0),C(te,null,le(e.showTagList,(t=>(O(),C("div",{key:e.getValueKey(t),class:z(e.nsSelectV2.e("selected-item"))},[L(s,{closable:!e.selectDisabled&&!(null==t?void 0:t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:z(e.nsSelectV2.e("tags-text")),style:T({maxWidth:`${e.tagMaxWidth}px`})},M(null==t?void 0:t.label),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:z(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(O(),ae(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Z((()=>[e.collapseTagsTooltip?(O(),ae(i,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Z((()=>[k("span",{class:z(e.nsSelectV2.e("tags-text")),style:T({maxWidth:`${e.tagMaxWidth}px`})},"+ "+M(e.modelValue.length-e.maxCollapseTags),7)])),content:Z((()=>[k("div",{class:z(e.nsSelectV2.e("selection"))},[(O(!0),C(te,null,le(e.collapseTagList,(t=>(O(),C("div",{key:e.getValueKey(t),class:z(e.nsSelectV2.e("selected-item"))},[L(s,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:z(e.nsSelectV2.e("tags-text")),style:T({maxWidth:`${e.tagMaxWidth}px`})},M(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):(O(),C("span",{key:1,class:z(e.nsSelectV2.e("tags-text")),style:T({maxWidth:`${e.tagMaxWidth}px`})},"+ "+M(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):ee("v-if",!0)],2)],64)):(O(!0),C(te,{key:1},le(e.states.cachedOptions,(t=>(O(),C("div",{key:e.getValueKey(t),class:z(e.nsSelectV2.e("selected-item"))},[L(s,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:z(e.nsSelectV2.e("tags-text")),style:T({maxWidth:`${e.tagMaxWidth}px`})},M(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:T(e.inputWrapperStyle)},[X(k("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:z([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=oe(h(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,Rt),[[c,e.states.displayInputValue]]),e.filterable?(O(),C("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z(e.nsSelectV2.e("input-calculator")),textContent:M(e.states.displayInputValue)},null,10,Lt)):ee("v-if",!0)],6)],2)):(O(),C(te,{key:2},[k("div",{class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[X(k("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:z(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,Kt),[[c,e.states.displayInputValue]])],2),e.filterable?(O(),C("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:z([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:M(e.states.displayInputValue)},null,10,Wt)):ee("v-if",!0)],64)),e.shouldShowPlaceholder?(O(),C("span",{key:3,class:z([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},M(e.currentPlaceholder),3)):ee("v-if",!0),k("span",{class:z(e.nsSelectV2.e("suffix"))},[e.iconComponent?X((O(),ae(r,{key:0,class:z([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z((()=>[(O(),ae(S(e.iconComponent)))])),_:1},8,["class"])),[[ne,!e.showClearBtn]]):ee("v-if",!0),e.showClearBtn&&e.clearIcon?(O(),ae(r,{key:1,class:z([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:h(e.handleClear,["prevent","stop"])},{default:Z((()=>[(O(),ae(S(e.clearIcon)))])),_:1},8,["class","onClick"])):ee("v-if",!0),e.validateState&&e.validateIcon?(O(),ae(r,{key:2,class:z([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z((()=>[(O(),ae(S(e.validateIcon)))])),_:1},8,["class"])):ee("v-if",!0)],2)],2)])),content:Z((()=>[L(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Z((t=>[B(e.$slots,"default",se(ie(t)))])),empty:Z((()=>[B(e.$slots,"empty",{},(()=>[k("p",{class:z(e.nsSelectV2.e("empty"))},M(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[d,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Ft.install=e=>{e.component(Ft.name,Ft)};const $t=Ft;function Dt(e){const{api:t}=e,l=c(!1),a=c([]),o=c("");return b((()=>{l.value=!0,a.value=[],t().then((e=>{a.value=e.data})).finally((()=>{l.value=!1}))})),{loading:l,options:a,value:o}}const jt={code:0,data:[{label:"苹果",value:1},{label:"香蕉",value:2},{label:"橘子",value:3,disabled:!0}],message:"获取 Select 数据成功"};function Ht(){return new Promise(((e,t)=>{setTimeout((()=>{Math.random()<.8?e(jt):t(new Error("接口发生错误"))}),2e3)}))}const At={class:"app-container"},qt=k("h4",null,"该示例是演示：通过 hook 自动调用 api 后拿到 Select 组件需要的数据并传递给 Select 组件",-1),_t=k("h5",null,"Select 示例",-1),Pt=k("h5",null,"Select V2 示例（如果数据量过多，可以选择该组件）",-1),Ut=r({__name:"use-fetch-select",setup(e){const{loading:t,options:l,value:a}=Dt({api:Ht});return(e,o)=>{const n=ge,s=he,i=$t;return O(),C("div",At,[qt,_t,L(s,{modelValue:p(a),"onUpdate:modelValue":o[0]||(o[0]=e=>re(a)?a.value=e:null),loading:p(t),filterable:""},{default:Z((()=>[(O(!0),C(te,null,le(p(l),((e,t)=>(O(),ae(n,K(e,{key:t,placeholder:"请选择"}),null,16)))),128))])),_:1},8,["modelValue","loading"]),Pt,L(i,{modelValue:p(a),"onUpdate:modelValue":o[1]||(o[1]=e=>re(a)?a.value=e:null),loading:p(t),options:p(l),filterable:"",placeholder:"请选择"},null,8,["modelValue","loading","options"])])}}});export{Ut as default};
