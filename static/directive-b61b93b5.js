import{cl as e,e as i,r as s,bv as a,o,j as r,K as n,B as t,L as l,a8 as d,m,l as p,k as c,N as u}from"./index-f84eb1d7.js";import{E as f,a as v}from"./el-tab-pane-e7dbb482.js";import{E as _}from"./el-tag-9d931c2f.js";import{S as y}from"./SwitchRoles-a998629c.js";import{_ as g}from"./_plugin-vue_export-helper-1b428a4d.js";import"./event-538c9b76.js";import"./strings-26cd39f6.js";import"./vnode-fdd2fca2.js";import"./index-6d810c7d.js";import"./use-form-item-d198a812.js";import"./index-01b4041d.js";const j=i=>{if(i&&Array.isArray(i)&&i.length>0){const s=e().roles,a=i;return s.some((e=>a.includes(e)))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},k={class:"app-container"},b={class:"permission-alert"},h={class:"permission-alert"},x={class:"permission-alert"},z=g(i({__name:"directive",setup(e){const i=s(1),g=()=>{i.value++};return(e,s)=>{const z=_,P=f,E=v,A=a("permission");return o(),r("div",k,[n(y,{onChange:g}),(o(),r("div",{key:i.value,class:"margin-top"},[t("div",null,[l((o(),r("span",b,[d(" 只有 "),n(z,null,{default:m((()=>[d("admin")])),_:1}),d("可以看见这个 ")])),[[A,["admin"]]]),l((o(),p(z,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[d(" v-permission=\"['admin']\" ")])),_:1})),[[A,["admin"]]])]),t("div",null,[l((o(),r("span",h,[d(" 只有 "),n(z,null,{default:m((()=>[d("editor")])),_:1}),d("可以看见这个 ")])),[[A,["editor"]]]),l((o(),p(z,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[d(" v-permission=\"['editor']\" ")])),_:1})),[[A,["editor"]]])]),t("div",null,[l((o(),r("span",x,[d(" 两者 "),n(z,null,{default:m((()=>[d("admin")])),_:1}),d("和 "),n(z,null,{default:m((()=>[d("editor")])),_:1}),d("都可以看见这个 ")])),[[A,["admin","editor"]]]),l((o(),p(z,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[d(" v-permission=\"['admin', 'editor']\" ")])),_:1})),[[A,["admin","editor"]]])])])),(o(),r("div",{key:`checkPermission${i.value}`,class:"margin-top"},[n(z,{type:"info",size:"large"},{default:m((()=>[d(" 在某些情况下，不适合使用 v-permission。例如: Element Plus 的 el-tab-pane 或 el-table-column 以及其它动态渲染 Dom 的场景。你只能通过手动设置 v-if 来实现。 ")])),_:1}),n(E,{type:"border-card",class:"margin-top"},{default:m((()=>[c(j)(["admin"])?(o(),p(P,{key:0,label:"admin"},{default:m((()=>[d(" admin 可以看见这个 "),n(z,{class:"permission-code",type:"info"},{default:m((()=>[d(" v-if=\"checkPermission(['admin'])\" ")])),_:1})])),_:1})):u("",!0),c(j)(["editor"])?(o(),p(P,{key:1,label:"editor"},{default:m((()=>[d(" editor 可以看见这个 "),n(z,{class:"permission-code",type:"info"},{default:m((()=>[d(" v-if=\"checkPermission(['editor'])\" ")])),_:1})])),_:1})):u("",!0),c(j)(["admin","editor"])?(o(),p(P,{key:2,label:"admin 和 editor"},{default:m((()=>[d(" 两者 admin 和 editor 都可以看见这个 "),n(z,{class:"permission-code",type:"info"},{default:m((()=>[d(" v-if=\"checkPermission(['admin', 'editor'])\" ")])),_:1})])),_:1})):u("",!0)])),_:1})]))])}}}),[["__scopeId","data-v-dcce86f8"]]);export{z as default};
